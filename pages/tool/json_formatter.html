<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="description" content="json格式化工具">
		<meta name="keywords" content="json格式化">
		<title>JSON格式化工具|子晋的工作台</title>
		<link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../../css/tool/jsonFormatter/jquery.json-viewer.css" />
		<script src="../../js/jquery-1.10.2.min.js"></script>
		<script src="../../js/tool/jsonFormatter/jquery.json-viewer.js"></script> 
		<style>
			body{background-color: #F7F7F7}
		</style>
	</head>
	<body>
		<!--header-->
		<div id="header"></div>
		<script src="../../js/header.js"></script>
		<div class="container"  style="margin-top: 1em;">
			<h2>JSON格式化</h2>
			<div class="row">
				<div class="col-sm-6">
					<textarea class="form-control" id="json-input" style="height: 500px;" ></textarea>
				</div>
				<div class="col-sm-6">
					<pre id="json-renderer" style="height:500px;"></pre>
				</div>
			</div>
			<div class="row">
				<div class="form-group" style="padding: 1em 0;">
					<button id="json-formatter" class="btn btn-info" title="run jsonViewer()">转换Json数据</button>
					<label class="checkbox-inline">
						<input type="checkbox" id="collapsed">收缩所有的节点 
					</label>
					<label class="checkbox-inline">
						<input type="checkbox" id="with-quotes">为Key添加双引号 
					</label>
				</div>
			</div>
		</div>
		<script type="text/javascript">
		$(function() {
		  $('#json-formatter').click(function() {
			jsonFormatter();
		  });
		  $('#collapsed').change(function() {
		  	jsonFormatter();
		  });
		  $('#with-quotes').change(function() {
		  	jsonFormatter();
		  });
		});
		function jsonFormatter(){
			try {
			  var input = eval('(' + $('#json-input').val() + ')');
			}
			catch (error) {
			  return alert("Cannot eval JSON: " + error);
			}
			var options = {
			  collapsed: $('#collapsed').is(':checked'),
			  withQuotes: $('#with-quotes').is(':checked')
			};
			$('#json-renderer').jsonViewer(input, options);
		}
	 </script>
	</body>
</html>
